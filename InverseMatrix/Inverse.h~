//A class that finds the adjoint matrix adj(A) of a 3x3 matrix A, by calculating the algebraic complements.

class Inverse{

  int c[3][3];
  int Determinant2(int myArr[][2]);
  
 public:
  Inverse();
  //~Inverse();
  void SetMatrix(int myArr[][3]);
  int ** GetAdjoint();
  int Determinant3(int myArr[][3]);
  

};

Inverse::Inverse(){
  for(int i=0;i<3;i++){
    for(int j=0;j<3;j++){
      c[i][j]=0;


    }

  }

}


void Inverse:: SetMatrix(int myArr[][3]){
  for(int i=0;i<3;i++){
    for(int j=0;j<3;j++){
      c[i][j]=myArr[i][j];


    }


  }


}

int** Inverse::GetAdjoint(){
  int a[2][2];
  int det[9],n=0;
  int k,l;
  int** adj=0;
  adj=new int*[3];
  
  for(int i=0;i<3;i++){
    adj[i]= new int[3];

  }

   for(int row=0;row<3;row++){
    for(int col=0;col<3;col++){
      k=0;
      l=0;
      for(int i=0;i<3;i++){
	for(int j=0;j<3;j++){

	  if(i!=row && j!=col){
	    a[k][l]=c[i][j];
	    l++;
	   

	  }
     
	}
	if(l>0) k++;    
	l=0;
	
      }
      det[n]=Determinant2(a);
      n++;
      
    }
   }

   //Calculate the complements of the c array.
   n=0;
   for(int i=0;i<3;i++){
     for(int j=0;j<3;j++){
       adj[i][j]=det[n];
       n++;

     }

   }

   return adj;
   
}

int Inverse::Determinant2(int myArr[][2]){

  int det;
  det=(myArr[0][0]*myArr[1][1]-myArr[0][1]*myArr[1][0]);
  return det;

}

int Inverse::Determinant3(int myArr[][3]){
  int det=0;
  int row=0;
  int k=0,l=0;
  int a[2][2];
  for(int col=0;col<3;col++){
    k=0;
    l=0;
    for(int i=0;i<3;i++){
      for(int j=0;j<3;j++){
	
	if(i!=row && j!=col){
	  a[k][l]=myArr[i][j];
	  l++;
	}

      }
      if(l>0) k++;
      l=0;

    }
    det=det+a[row][col]*pow(-1,col)*Determinant2(a);


  }
  return det;

}


